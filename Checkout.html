<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>YOLI - Checkout</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="Checkout.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Assistant:wght@200..800&family=Rubik+Doodle+Shadow&family=Secular+One&display=swap" rel="stylesheet">
</head>

<body>
  <div class="container">

    <h1 class="page-title">השלמת הזמנה</h1>

    <!-- Cart Section -->
    <div class="cart-section" id="cartSection">
      <h2>ההזמנה שלך</h2>

      <div id="cartItems"></div>

      <div class="totals-section" id="totalsSection">
        <div class="total-row">
          <span>סכום ביניים:</span>
          <span id="subtotal">₪0</span>
        </div>

        <div class="total-row" id="deliveryFeeRow">
          <span>דמי משלוח:</span>
          <span id="deliveryFee">₪0</span>
        </div>

        <div class="total-row final">
          <span>סה"כ לתשלום:</span>
          <span class="amount" id="total">₪0</span>
        </div>
      </div>

      <button id="toPayment" class="submit-button">
        מעבר לתשלום <i class="bi bi-arrow-left"></i>
      </button>
    </div>

    <!-- Payment Section -->
    <div class="payment-section" id="paymentSection">

      <div class="step-title">
        <span class="step">1</span>
        <h2>פרטי תשלום ומשלוח</h2>
      </div>

      <div class="delivery-options">
        <label>אופן קבלת ההזמנה</label>

        <div class="delivery-buttons">
          <div id="deliveryBtn" class="delivery-btn selected">
            <i class="bi bi-truck"></i>
            <div class="title">משלוח עד הבית</div>
            <div class="subtitle">₪15 דמי משלוח</div>
          </div>

          <div id="pickupBtn" class="delivery-btn">
            <i class="bi bi-shop"></i>
            <div class="title">איסוף עצמי</div>
            <div class="subtitle">ללא תשלום</div>
          </div>
        </div>
      </div>

      <form id="checkoutForm">

        <div class="form-row">
          <div class="form-group">
            <label>שם מלא *</label>
            <input type="text" name="name" placeholder="הזן את שמך המלא" required>
          </div>

          <div class="form-group">
            <label>טלפון *</label>
            <input type="tel" name="phone" id="phone" placeholder="050-1234567" maxlength="10" required>
            <span id="phoneError" class="field-error"></span>
          </div>
        </div>

        <div class="form-group" id="addressField">
          <label>כתובת למשלוח *</label>
          <input type="text" name="address" placeholder="רחוב, מספר בית, עיר" required>
        </div>

        <div class="form-group">
          <label>הערות</label>
          <textarea name="notes" placeholder="הוספות, הערות מיוחדות..."></textarea>
        </div>

        <div class="step-title">
          <span class="step">2</span>
          <h3>פרטי כרטיס אשראי</h3>
        </div>

        <div class="form-group">
          <label>מספר כרטיס *</label>
          <input type="text" id="cardNumber" name="cardNumber" placeholder="XXXX XXXX XXXX XXXX" maxlength="19" required>
          <span id="cardError" class="field-error"></span>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label>תוקף *</label>
            <input type="text" id="cardExpiry" name="cardExpiry" placeholder="MM/YY" maxlength="5" required>
            <span id="expiryError" class="field-error"></span>
          </div>

          <div class="form-group">
            <label>CVV *</label>
            <input type="text" id="cvv" name="cvv" placeholder="XXX" maxlength="3" required>
          </div>
        </div>

        <div class="form-group">
          <label>שם בעל הכרטיס *</label>
          <input type="text" id="cardName" name="cardName" placeholder="כפי שמופיע בכרטיס" required>
        </div>

        <div class="form-group">
          <label>תעודת זהות *</label>
          <input type="text" id="idNumber" name="idNumber" placeholder="הזן מספר תעודת זהות" maxlength="9" required>
          <span id="idError" class="field-error"></span>
        </div>

        <button type="submit" class="submit-button" id="submitBtn">
          שלם ₪0
        </button>

      </form>
    </div>
  </div>

  <!-- Modal -->
  <div id="modal" class="modal-overlay">
    <div class="modal-content">
      <p id="modalMessage"></p>
      <input type="text" id="modalInput" class="modal-input">

      <div class="modal-buttons">
        <button id="modalCancel" class="btn-secondary">ביטול</button>
        <button id="modalConfirm" class="btn-success">אישור</button>
      </div>
    </div>
  </div>

  <!-- Success Section -->
  <section id="successSection" class="success-section">
    <div class="success-box">
      <div class="success-icon">
        <i class="bi bi-check2-all"></i>
      </div>

      <h2>התשלום התקבל בהצלחה!</h2>
      <p>תודה, <strong id="confName"></strong>! ההזמנה שלך יוצאת להכנה.</p>

      <div class="summary-details">
        <p><strong>מספר הזמנה:</strong> #<span id="confOrderNum"></span></p>
        <p><strong>שיטה:</strong> <span id="confType"></span></p>
        <p><strong>זמן הגעה משוער:</strong> <span id="confTime"></span></p>
      </div>

      <p class="status-msg">סטטוס: המטבח קיבל את ההזמנה <i class="bi bi-clock-history"></i></p>

      <button id="finishOrder" class="btn-primary" onclick="window.location.reload()">
        הזמנה חדשה
      </button>
    </div>
  </section>

<script src="Checkout.js"></script>
</body>
</html>
